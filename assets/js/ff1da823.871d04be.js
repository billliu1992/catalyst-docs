"use strict";(self.webpackChunkcodebase_doctor_docs=self.webpackChunkcodebase_doctor_docs||[]).push([[973],{9099:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var a=n(5893),s=n(1151);const r={sidebar_position:5},i="Other Web Frameworks",o={id:"install/javascript/other-web",title:"Other Web Frameworks",description:"Before manually instrumenting, please check if we provide a package for your choice of framework! If we don't provide a package, we'd",source:"@site/docs/install/javascript/other-web.md",sourceDirName:"install/javascript",slug:"/install/javascript/other-web",permalink:"/docs/install/javascript/other-web",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Express.js",permalink:"/docs/install/javascript/express"},next:{title:"Other Node.JS Server Framework",permalink:"/docs/install/javascript/other-node"}},l={},c=[{value:"Add the dependency",id:"add-the-dependency",level:2},{value:"Initialize the library",id:"initialize-the-library",level:2},{value:"Manually Instrumenting",id:"manually-instrumenting",level:2},{value:"(Optional) Associating User Info",id:"optional-associating-user-info",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"other-web-frameworks",children:"Other Web Frameworks"}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsxs)(t.p,{children:["Before manually instrumenting, please check if we provide a package for your choice of framework! If we don't provide a package, we'd\nstill like to work with you. Please reach out either ",(0,a.jsx)(t.a,{href:"mailto:bill@privium.xyz",children:"through e-mail"})," or ",(0,a.jsx)(t.a,{href:"https://discord.gg/YQZy4SXzmX",children:"via Discord"}),"."]})}),"\n",(0,a.jsxs)(t.p,{children:["For a working example, please checkout our ",(0,a.jsx)(t.a,{href:"https://github.com/catalyst-monitor/catalyst-examples",children:"examples repo"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"add-the-dependency",children:"Add the dependency"}),"\n",(0,a.jsx)(t.p,{children:"To get started, add the core Javascript library to your client:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",metastring:'title="Terminal"',children:"npm install @catalyst-monitor/web@^0.1.1\n\n# Alternatively, if you use Yarn:\nyarn add @catalyst-monitor/web@^0.1.1\n"})}),"\n",(0,a.jsx)(t.h2,{id:"initialize-the-library",children:"Initialize the library"}),"\n",(0,a.jsx)(t.p,{children:"Initialize the library as early as possible:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",metastring:'title="index.ts"',children:'import Catalyst from "@catalyst-monitor/web";\n\nCatalyst.start({\n  publicKey: "<YOUR PUBLIC KEY HERE>", // The public key from the "Settings" page in the Catalyst dashboard.\n  systemName: "catalyst-js-express-example", // Any string to differentiate this service.\n  version: "<YOUR VERSION CODE HERE>", // Any string to differentiate different deploys, e.g. Git commit SHA\n  userAgent: navigator.userAgent,\n  systemName: "catalyst-js-react-example", // ANy string to differentiate this service.\n});\n'})}),"\n",(0,a.jsx)(t.h2,{id:"manually-instrumenting",children:"Manually Instrumenting"}),"\n",(0,a.jsx)(t.p,{children:"Being able to breakdown your errors and logs by page can greatly speed up your triage and debugging processes."}),"\n",(0,a.jsxs)(t.p,{children:["An example of how we instrument Catalyst for React Router can be found ",(0,a.jsx)(t.a,{href:"https://github.com/catalyst-monitor/catalyst-js/blob/main/packages/react-router/src/Catalyst.tsx",children:"here"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["In order for Catalyst to associate logs and errors to the page the user is currently on, you'll need to let Catalyst know when the user changes page by calling ",(0,a.jsx)(t.code,{children:"getCatalystWeb().recordPageView(...)"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",children:'import Catalyst from "@catalyst-monitor/web";\n\nCatalystWeb.getReporter().recordPageView({\n  // The fully built path (as it appears in the address bar).\n  rawPath: "/todo/abc123",\n\n  // The pattern used to match the raw path with the route.\n  // The format does not matter, it could be /todo/:todoId for example.\n  pathPattern: "/todo/{todoId}",\n\n  // The arguments from the path.\n  args: { todoId: "abc123" },\n});\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Note that ",(0,a.jsx)(t.code,{children:"recordPageView"})," is stateful. Once it's called, any subsequent actions (like logs, fetches) will be associated with this page view."]}),"\n",(0,a.jsx)(t.h2,{id:"optional-associating-user-info",children:"(Optional) Associating User Info"}),"\n",(0,a.jsxs)(t.p,{children:["You can associate user info with the current page view and session with ",(0,a.jsx)(t.code,{children:"setUserInfo"}),". This will show up in the Catalyst dashboard UI, and may help you debug."]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"setUserInfo"})," is stateful, and any subsequently recorded event will carry the user info. Therefore, the best place to do this is to any auth listeners."]}),"\n",(0,a.jsxs)(t.p,{children:["Note that ",(0,a.jsx)(t.code,{children:"setUserInfo"})," is not opinionated about the ID or username format, and will not enforce uniqueness. You can set it to whatever you want. All it does is send it to Catalyst to display."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-ts",children:'import Catalyst from "@catalyst-monitor/web";\n\nCatalystWeb.getReporter().setUserInfo({\n  loggedInId: user.id, // Any string ID\n  loggedInName: user.name, // A username, e-mail, etc...\n});\n\ngetCatalystWeb().setUserInfo(null); // Logged out.\n'})})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>i});var a=n(7294);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);